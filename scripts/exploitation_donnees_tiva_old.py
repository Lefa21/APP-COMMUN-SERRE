import serial
import time
import os

ser = serial.Serial('COM3', 9600)
data_file_path = os.path.join(os.path.dirname(__file__), "data.txt")

with open(data_file_path, "w") as file:
    file.write("") 

for _ in range(15):
    data = ser.readline().decode('utf-8').strip()
    if data:
        with open(data_file_path, "a") as file:  
            file.write(data + "\n")
        print(f"[DATA] {data}")
    time.sleep(1)